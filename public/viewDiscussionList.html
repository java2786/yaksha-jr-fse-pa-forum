<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>View GlobalTech Forum Posts</title>
<link type="text/css" href="<%=request.getContextPath() %>/css/bootstrap.css" rel="stylesheet"/>
		<style>
			table {
			  border-collapse: collapse;
			  border-spacing: 0;
			  width: 100%;
			  border: 1px solid #ddd;
			}
			
			th, td {
			  text-align: left;
			  padding: 16px;
			}
			
			tr:nth-child(even) {
			  background-color: #f2f2f2;
			}
		</style>

</head>
<body>
		<div class="container">
			<p class="bg-primary text-white text-center"><h1>Discussion Title Details</h1><br>
		</div>

 <div class="container-fluid">
  <div class="row-fluid">
   <div class="span12">
    <fieldset>
		<table class="table table-hover table-striped-rows table-bordered table-condensed" id="table">
			<thead>
			    <tr>
			        <td><b>Title ID</b></td>
			        <td><b>Discussion Title</b></td>
			    </tr>
			</thead>
            
        </table>
    </fieldset>
   </div>
  </div>
 </div>
 <script>
	fetch('http://localhost:3000/forum/posts/titles')
		.then(response => response.json())
		.then(res => {
			console.log(res)
			if (res.success) {
				let posts = res.data;
				for (var i = 0; i < posts.length; i++) {
					let tr = `<tr>
						<td>${posts[i].id}</td>
						<td>${posts[i].title}</td>
					</tr>`

					document.getElementById("table").innerHTML += tr;
				}

			} else {
				alert("Can't load data");
			}
		});
</script>  
</body>
</html>